<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="20260219_1503_batch_data.xml" author="admin">
        <!--        Вставка в таблицу курса валют-->
        <insert tableName="exchange_rate">
            <column name="base_currency" value="CNY"/>
            <column name="target_currency" value="RUB"/>
            <column name="rate" valueNumeric="12"/>
        </insert>

        <insert tableName="exchange_rate">
            <column name="base_currency" value="USD"/>
            <column name="target_currency" value="RUB"/>
            <column name="rate" valueNumeric="80"/>
        </insert>
        <!--Создание счетов для банковских партнеров-->
        <insert tableName="account">
            <column name="account_number" value="810123456"/>
            <column name="currency_code" value="RUB"/>
            <column name="is_blocked" valueBoolean="false"/>
            <column name="balance" valueNumeric="0"/>
        </insert>
        <insert tableName="account">
            <column name="account_number" value="810123457"/>
            <column name="currency_code" value="RUB"/>
            <column name="is_blocked" valueBoolean="false"/>
            <column name="balance" valueNumeric="0"/>
        </insert>
        <insert tableName="account">
            <column name="account_number" value="810123458"/>
            <column name="currency_code" value="RUB"/>
            <column name="is_blocked" valueBoolean="false"/>
            <column name="balance" valueNumeric="0"/>
        </insert>

        <!--        Создание банковских партнеров-->
        <sql>
            insert into bank_partner(name, partner_category, account_id)
            values ('Аптека',
                    'MEDICINE',
                    (select a.id from account a where a.account_number = '810123456'))
        </sql>
        <sql>
            insert into bank_partner(name, partner_category, account_id)
            values ('Супермаркет',
                    'FOOD',
                    (select a.id from account a where a.account_number = '810123457'))
        </sql>
        <sql>
            insert into bank_partner(name, partner_category, account_id)
            values ('Кинотеатр',
                    'ENTERTAINMENT',
                    (select a.id from account a where a.account_number = '810123458'))
        </sql>

        <!--Создание квестов для февраля-->
        <insert tableName="quest">
            <column name="category" value="FOOD"/>
            <column name="date_of_expiry" valueDate="2026-02-28"/>
            <column name="point_reward" valueNumeric="250"/>
            <column name="progress" valueNumeric="0"/>
        </insert>
        <insert tableName="quest">
            <column name="category" value="ENTERTAINMENT"/>
            <column name="date_of_expiry" valueDate="2026-02-28"/>
            <column name="point_reward" valueNumeric="500"/>
            <column name="progress" valueNumeric="0"/>
        </insert>
        <insert tableName="quest">
            <column name="category" value="MEDICINE"/>
            <column name="date_of_expiry" valueDate="2026-02-28"/>
            <column name="point_reward" valueNumeric="300"/>
            <column name="progress" valueNumeric="0"/>
        </insert>
    </changeSet>
</databaseChangeLog>