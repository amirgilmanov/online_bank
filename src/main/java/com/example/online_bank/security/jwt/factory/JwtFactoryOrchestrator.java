package com.example.online_bank.security.jwt.factory;import com.example.online_bank.enums.TokenType;import com.example.online_bank.exception.UnsupportedTokenTypeException;import org.springframework.security.core.Authentication;import org.springframework.stereotype.Component;import java.util.List;@Componentpublic class JwtFactoryOrchestrator implements JwtFactory {    private List<TokenFactory> tokenFactories;    /**     * Создает jwt токен на основе переданного типа.     * У каждой фабрики вызывается метод supports() для того, чтобы узнать поодерживается ли переданный тип токена     */    @Override    public String createJwt(TokenType tokenType, Authentication authentication) {        return tokenFactories.stream()                .filter(tokenFactory -> tokenFactory.supports(tokenType))                .findFirst()                .orElseThrow(() -> new UnsupportedTokenTypeException("Token type %s is not supported".formatted(tokenType)))                .createToken(tokenType, authentication);    }}